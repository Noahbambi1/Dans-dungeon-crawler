/**
 * Card Styles
 * Playing card appearance and animations
 */

/* ===========================================
   BASE CARD STYLES
   =========================================== */

.card {
  width: var(--card-width);
  height: var(--card-height);
  border-radius: var(--card-radius);
  position: relative;
  cursor: grab;
  user-select: none;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  flex-shrink: 0;
}

.card:hover {
  transform: translateY(-4px);
  z-index: 10;
}

.card:active {
  cursor: grabbing;
}

/* ===========================================
   CARD FACES
   =========================================== */

.card.red,
.card.black {
  background: 
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E"),
    linear-gradient(145deg, #f5f2ec 0%, #ffffff 50%, #efefef 100%);
  border: 1px solid #c5baa8;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.card.red {
  color: #8b2942;
}

.card.black {
  color: #2a2a35;
}

.card .corner {
  position: absolute;
  font-size: 0.9rem;
  font-weight: 700;
  line-height: 1.1;
  text-align: center;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

.card .corner:first-of-type {
  top: 6px;
  left: 6px;
}

.card .corner.bottom {
  bottom: 6px;
  right: 6px;
  transform: rotate(180deg);
}

.card .suit {
  font-size: 2.2rem;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0.9;
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.1));
}

/* ===========================================
   ROYAL MONSTER CARDS
   =========================================== */

.card.monster-royal .suit {
  font-size: 3.2rem;
  filter: 
    drop-shadow(0 0 1px rgba(0, 0, 0, 0.9))
    drop-shadow(0 2px 3px rgba(0, 0, 0, 0.7))
    drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5))
    contrast(1.2)
    saturate(1.1);
  animation: monsterIdle 4s ease-in-out infinite;
  transition: transform 0.3s ease, filter 0.3s ease;
  -webkit-text-stroke: 0.5px rgba(0, 0, 0, 0.3);
}

@keyframes monsterIdle {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    filter: 
      drop-shadow(0 0 1px rgba(0, 0, 0, 0.9))
      drop-shadow(0 2px 3px rgba(0, 0, 0, 0.7))
      drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5))
      contrast(1.2)
      saturate(1.1);
  }
  25% {
    transform: translate(-50%, -50%) scale(1.02);
  }
  50% {
    transform: translate(-50%, -50%) scale(1);
    filter: 
      drop-shadow(0 0 2px rgba(0, 0, 0, 0.9))
      drop-shadow(0 3px 6px rgba(0, 0, 0, 0.6))
      drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4))
      contrast(1.25)
      saturate(1.15)
      brightness(1.05);
  }
  75% {
    transform: translate(-50%, -50%) scale(1.02);
  }
}

.card.monster-royal:hover .suit {
  animation: monsterHover 0.6s ease-in-out infinite;
  filter: 
    drop-shadow(0 0 3px rgba(255, 100, 50, 0.8))
    drop-shadow(0 4px 8px rgba(255, 80, 30, 0.6))
    drop-shadow(0 8px 16px rgba(0, 0, 0, 0.5))
    contrast(1.3)
    saturate(1.2)
    brightness(1.1);
}

@keyframes monsterHover {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.1) rotate(0deg);
  }
  25% {
    transform: translate(-50%, -50%) scale(1.15) rotate(-3deg);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1) rotate(0deg);
  }
  75% {
    transform: translate(-50%, -50%) scale(1.15) rotate(3deg);
  }
}

.card.monster-royal::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 50px;
  height: 50px;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(255, 120, 50, 0) 0%, rgba(255, 120, 50, 0) 100%);
  border-radius: 50%;
  transition: all 0.3s ease;
  pointer-events: none;
  z-index: 0;
}

.card.monster-royal:hover::before {
  width: 70px;
  height: 70px;
  background: radial-gradient(circle, rgba(255, 120, 50, 0.4) 0%, rgba(255, 80, 30, 0) 70%);
}

.card.monster-royal::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, transparent 50%, rgba(80, 60, 40, 0.08) 100%);
  border-radius: var(--card-radius);
  pointer-events: none;
}

/* ===========================================
   CARD BACK STYLES
   =========================================== */

.card.back {
  background: 
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.06'/%3E%3C/svg%3E"),
    var(--card-back-bg, linear-gradient(135deg, #1f1f30 0%, #181828 100%));
  border: 2px solid var(--card-back-border, #3a3a4a);
  cursor: default;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.card.back::before {
  content: '';
  position: absolute;
  inset: 5px;
  border: 1px solid var(--card-back-accent, rgba(212, 168, 83, 0.25));
  border-radius: 5px;
  background: var(--card-back-pattern, 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 8px,
      rgba(212, 168, 83, 0.08) 8px,
      rgba(212, 168, 83, 0.08) 16px
    )
  );
}

.card.back::after {
  content: var(--card-back-symbol, '‚öîÔ∏è');
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2.2rem;
  opacity: 0.5;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.card.back.clickable {
  cursor: pointer;
  animation: deckPulse 2s ease-in-out infinite;
}

.card.back.clickable:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 8px 30px rgba(212, 168, 83, 0.3);
}

@keyframes deckPulse {
  0%, 100% {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  50% {
    box-shadow: 0 4px 20px rgba(212, 168, 83, 0.4);
  }
}

/* ===========================================
   CARD BACK THEMES
   =========================================== */

[data-card-theme="classic"] {
  --card-back-bg: linear-gradient(135deg, #5a556b 0%, #4a4658 100%);
  --card-back-border: #6b6580;
  --card-back-accent: rgba(232, 185, 35, 0.4);
  --card-back-symbol: '‚öîÔ∏è';
}

[data-card-theme="dragon"] {
  --card-back-bg: linear-gradient(135deg, #352020 0%, #201010 100%);
  --card-back-border: #4a2828;
  --card-back-accent: rgba(180, 60, 60, 0.35);
  --card-back-symbol: 'üêâ';
  --card-back-pattern: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 8px,
      rgba(180, 60, 60, 0.08) 8px,
      rgba(180, 60, 60, 0.08) 16px
    );
}

[data-card-theme="mystic"] {
  --card-back-bg: linear-gradient(135deg, #252540 0%, #151525 100%);
  --card-back-border: #3a3a6a;
  --card-back-accent: rgba(120, 80, 200, 0.35);
  --card-back-symbol: 'üîÆ';
  --card-back-pattern: 
    radial-gradient(circle at 30% 30%, rgba(120, 80, 200, 0.12) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(120, 80, 200, 0.12) 0%, transparent 50%);
}

[data-card-theme="nature"] {
  --card-back-bg: linear-gradient(135deg, #1e3020 0%, #121a12 100%);
  --card-back-border: #2a4a2a;
  --card-back-accent: rgba(60, 140, 60, 0.35);
  --card-back-symbol: 'üåø';
  --card-back-pattern: 
    repeating-linear-gradient(
      60deg,
      transparent,
      transparent 8px,
      rgba(60, 140, 60, 0.06) 8px,
      rgba(60, 140, 60, 0.06) 16px
    );
}

[data-card-theme="royal"] {
  --card-back-bg: linear-gradient(135deg, #352e1e 0%, #201a10 100%);
  --card-back-border: #6a5a40;
  --card-back-accent: rgba(180, 145, 75, 0.4);
  --card-back-symbol: 'üëë';
  --card-back-pattern: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 12px,
      rgba(180, 145, 75, 0.08) 12px,
      rgba(180, 145, 75, 0.08) 24px
    );
}

[data-card-theme="skull"] {
  --card-back-bg: linear-gradient(135deg, #202020 0%, #101010 100%);
  --card-back-border: #3a3a3a;
  --card-back-accent: rgba(200, 200, 200, 0.15);
  --card-back-symbol: 'üíÄ';
  --card-back-pattern: none;
}

/* ===========================================
   CARD STACKS
   =========================================== */

.card-stack {
  position: relative;
  width: var(--card-width);
  min-height: var(--card-height);
}

.card.stacked {
  position: absolute;
  top: 0;
  left: 0;
  cursor: default;
}

.card.small {
  width: calc(var(--card-width) * 0.7);
  height: calc(var(--card-height) * 0.7);
}

.card.small .corner {
  font-size: 0.75rem;
}

.card.small .suit {
  font-size: 1.6rem;
}

/* ===========================================
   CARD ANIMATIONS
   =========================================== */

.card.drawing {
  animation: cardReveal 0.4s ease-out;
}

@keyframes cardReveal {
  0% {
    transform: rotateY(90deg);
    opacity: 0;
  }
  100% {
    transform: rotateY(0);
    opacity: 1;
  }
}

/* Floor Placeholder */
.empty.floor-placeholder {
  width: var(--card-width);
  height: var(--card-height);
  border: 2px dashed rgba(255, 255, 255, 0.25);
  border-radius: var(--card-radius);
  background: rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.03);
}

