<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dungeon Floor Card Crawler</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header class="top-bar">
      <div class="logo">
        <span class="title">Dungeon Floor</span>
        <span class="subtitle">Card Crawler</span>
      </div>
      <div class="health-block">
        <div class="health-label">Health</div>
        <div class="health-bar-container">
          <div class="health-bar" id="healthBar"></div>
          <div class="health-value" id="healthValue">20 / 20</div>
        </div>
        <div class="floor-value">Floor <span id="floorValue">1</span></div>
      </div>
      <div class="game-controls">
        <button id="restartButton" class="control-btn restart-btn">Restart Game</button>
        <button id="newGameButton" class="control-btn new-game-btn">New Game</button>
      </div>
    </header>

    <main>
      <section class="action-row">
        <div class="action-slot">
          <div class="action-label">Take Damage</div>
          <div class="health-drop drop-target" data-drop="health">Drop monsters here</div>
        </div>
        <div class="action-slot">
          <div class="action-label">Heal</div>
          <div class="heal-drop drop-target" data-drop="heal">Drop hearts here</div>
        </div>
        <div class="action-slot">
          <button id="runButton" class="run-btn">Run away (once)</button>
          <div class="run-hint">Use only at start of a floor.</div>
        </div>
      </section>

      <section class="play-area">
        <div class="pile">
          <div class="pile-title">Deck</div>
          <div class="card back" id="deckBack"></div>
          <div class="pile-count" id="deckCount">0</div>
        </div>
        <div class="floor-area">
          <div class="floor-label">Dungeon Floor</div>
          <div class="floor-row" id="floorRow"></div>
        </div>
        <div class="pile discard-pile">
          <div class="pile-title">Discard</div>
          <div id="discardSlot"></div>
          <div class="pile-count" id="discardCount">0</div>
        </div>
      </section>

      <section class="equipment-area">
        <div class="slot">
          <div class="slot-title">Equipped weapon</div>
          <div id="weaponSlot" class="drop-target" data-drop="weapon"></div>
          <button id="discardWeaponBtn" class="small-btn">Discard weapon</button>
        </div>
        <div class="slot">
          <div class="slot-title">Weapon damage</div>
          <div id="weaponDamageSlot"></div>
        </div>
      </section>
    </main>

    <footer class="status-bar">
      <div id="status"></div>
    </footer>

    <div id="animationOverlay"></div>

    <!-- Win Modal -->
    <div id="winModal" class="game-modal">
      <div class="modal-content win-content">
        <div class="celebration">
          <div class="streamer streamer-1"></div>
          <div class="streamer streamer-2"></div>
          <div class="streamer streamer-3"></div>
          <div class="streamer streamer-4"></div>
          <div class="streamer streamer-5"></div>
          <div class="streamer streamer-6"></div>
          <div class="streamer streamer-7"></div>
          <div class="streamer streamer-8"></div>
        </div>
        <h2 class="modal-title win-title">ğŸ‰ You Win! ğŸ‰</h2>
        <p class="modal-message">You cleared the dungeon!</p>
        <div class="modal-buttons">
          <button id="winNewGameBtn" class="control-btn new-game-btn">New Game</button>
        </div>
      </div>
    </div>

    <!-- Lose Modal -->
    <div id="loseModal" class="game-modal">
      <div class="modal-content lose-content">
        <h2 class="modal-title lose-title">ğŸ’€ You Lose ğŸ’€</h2>
        <p class="modal-message">You have been defeated!</p>
        <div class="modal-buttons">
          <button id="loseRestartBtn" class="control-btn restart-btn">Restart Game</button>
          <button id="loseNewGameBtn" class="control-btn new-game-btn">New Game</button>
        </div>
      </div>
    </div>

    <!-- Run Away Popup -->
    <div id="runAwayPopup" class="run-away-popup">
      <div class="popup-content">
        <h3>ğŸƒ Running Away!</h3>
        <p>New floor incoming...</p>
      </div>
    </div>
  </div>

  <script type="module" src="main.js"></script>
</body>
</html>

